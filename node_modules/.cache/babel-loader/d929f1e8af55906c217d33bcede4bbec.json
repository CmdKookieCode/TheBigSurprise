{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/piete/OneDrive/Documents/school/21-22/ROMEOWERK/TheBigSurprise/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport createPersistedState from \"vuex-persistedstate\";\nVue.use(Vuex);\nvar url;\nvar headers = {\n  Accept: \"application/json\"\n};\nexport default new Vuex.Store({\n  state: {\n    products: [],\n    inCart: [],\n    user: {\n      isAuthenticated: false,\n      name: \"\",\n      email: \"\",\n      idToken: \"\"\n    },\n    endpoints: {\n      login: \"http://localhost:3000/login\",\n      products: \"http://localhost:8000/products\"\n    }\n  },\n  getters: {\n    products: function products(state) {\n      return state.products;\n    },\n    inCart: function inCart(state) {\n      return state.inCart;\n    }\n  },\n  mutations: {\n    //synchronous\n    setProducts: function setProducts(state, payload) {\n      state.products = payload;\n    },\n    addToCart: function addToCart(state, payload) {\n      console.log(payload);\n      state.inCart.push(payload);\n    },\n    removeFromCart: function removeFromCart(state, item) {\n      state.inCart.splice(item, 1);\n    },\n    logout: function logout(state) {\n      state.user.isAuthenticated = false;\n      state.user.name = \"\";\n      state.user.email = \"\";\n      state.user.idToken = \"\";\n    },\n    login: function login(state, payload) {\n      state.user.isAuthenticated = true;\n      state.user.name = payload.name;\n      state.user.email = payload.email;\n      state.user.idToken = payload.idToken;\n    },\n    setUrls: function setUrls(state) {\n      state.endpoints.login = process.env.VUE_APP_AUTH_URL;\n      state.endpoints.products = process.env.VUE_APP_PRODUCTS_URL;\n      url = state.endpoints.products;\n      console.log(process.env);\n    }\n  },\n  actions: {\n    //asynchronous\n    getProducts: function getProducts(state) {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var products, prods;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(url, {\n                  headers: headers\n                });\n\n              case 2:\n                products = _context.sent;\n                _context.next = 5;\n                return products.json();\n\n              case 5:\n                prods = _context.sent;\n                state.commit(\"setProducts\", prods);\n                console.log(prods);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  modules: {}\n});","map":{"version":3,"sources":["C:/Users/piete/OneDrive/Documents/school/21-22/ROMEOWERK/TheBigSurprise/src/store/index.js"],"names":["Vue","Vuex","createPersistedState","use","url","headers","Accept","Store","state","products","inCart","user","isAuthenticated","name","email","idToken","endpoints","login","getters","mutations","setProducts","payload","addToCart","console","log","push","removeFromCart","item","splice","logout","setUrls","process","env","VUE_APP_AUTH_URL","VUE_APP_PRODUCTS_URL","actions","getProducts","fetch","json","prods","commit","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport createPersistedState from \"vuex-persistedstate\";\r\n\r\nVue.use(Vuex)\r\n\r\nvar url;\r\nconst headers = { Accept: \"application/json\" };\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    products: [],\r\n    inCart: [],\r\n    user: {\r\n      isAuthenticated: false,\r\n      name: \"\",\r\n      email: \"\",\r\n      idToken: \"\"\r\n    },\r\n    endpoints: {\r\n      login: \"http://localhost:3000/login\",\r\n      products: \"http://localhost:8000/products\"\r\n    },\r\n   },\r\n   getters: {\r\n    products: state => state.products,\r\n    inCart: state => state.inCart,\r\n   },\r\n   mutations: { //synchronous\r\n     setProducts(state, payload) {\r\n       state.products = payload;\r\n     },\r\n     addToCart(state, payload) { \r\n      console.log(payload);\r\n      state.inCart.push(payload);\r\n     },\r\n     removeFromCart(state, item) { \r\n       state.inCart.splice(item, 1); \r\n     },\r\n     logout(state) {\r\n      state.user.isAuthenticated = false;\r\n      state.user.name = \"\";\r\n      state.user.email =\"\";\r\n      state.user.idToken =\"\";\r\n     },\r\n     login(state, payload) {\r\n      state.user.isAuthenticated = true;\r\n      state.user.name = payload.name;\r\n      state.user.email =payload.email;\r\n      state.user.idToken =payload.idToken;\r\n     },\r\n     setUrls(state) {\r\n       state.endpoints.login = process.env.VUE_APP_AUTH_URL;\r\n       state.endpoints.products = process.env.VUE_APP_PRODUCTS_URL;\r\n       url = state.endpoints.products;\r\n       console.log(process.env);\r\n     }\r\n   },\r\n   actions: { //asynchronous\r\n     async getProducts(state) {\r\n       const products = await fetch(url, { headers });\r\n       const prods = await products.json();\r\n       state.commit(\"setProducts\", prods);\r\n       console.log(prods);\r\n     }\r\n   },\r\n  modules: {\r\n  }\r\n})"]},"metadata":{},"sourceType":"module"}